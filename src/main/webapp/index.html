<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="imgs/favicon.ico" rel="shortcut icon" />
    <title>蜗牛JAVA_主页</title>
    <link rel="stylesheet" href='css/index.css' />
    <style>
        .active {
            background-color: #7472e9;
            border-bottom: 2px solid #d7d7d7;
        }
    </style>
</head>

<body>
    <div class="head">
        <div class="left">
            <img src="imgs/logo.png" alt="" class="img1">
        </div>
        <div class="nav">
            <ul>
                <li><a href="index.html" style="color:#ffffff">首页</a></li>
                <li><a href="topicTest.html?topic=-1" style="color:#ffffff">错题集</a></li>
                <li><a href="tutorial/tutorial_index.html" style="color:#ffffff">JAVA教程</a></li>
                </ul>
        </div>
        <div  id="right" >
            <span class="login" id="login">
                <a href="login.jsp" id = "1">登录</a>
            </span>
            |
            <span class="register" id="reg">
                <a href="register.jsp" id = "2">注册</a>
            </span>

        </div>

    </div>
    <main>
        <div id="banner" style="height: 890px;">

            <ul id="typelist">
                <li><a href="topicTest.html?topic=1">
                        <img src="imgs/p__icon-1.png" alt="">
                        <p>第一章测验</p>
                    </a>
                </li>
                <li><a href="topicTest.html?topic=2">
                    <img src="imgs/p__icon-2.png" alt="">
                    <p>第二章测验</p>
                </a>
                </li>
                <li>
                    <a href="topicTest.html?topic=3"><img src="imgs/p__icon-3.png" alt="">
                    <p>第三章测验</p> </a>
                </li>
                <li><a href="topicTest.html?topic=4"><img src="imgs/p__icon-4.png" alt="">
                    <p>第四章测验</p></a>
                </li>
                <li><a href="topicTest.html?topic=5"><img src="imgs/p__icon-5.png" alt="">
                    <p>第五章测验</p></a>
                </li>
            </ul>
        </div>
        <div>

            <ul id="typelist">
                <li><a href="topicTest.html?topic=6">
                        <img src="imgs/p__icon-1.png" alt="">
                        <p>第六章测验</p>
                    </a>
                </li>
                <li><a href="topicTest.html?topic=7"><img src="imgs/p__icon-2.png" alt="">
                    <p>第七章测验</p></a>
                </li>
                <li><a href="topicTest.html?topic=8"><img src="imgs/p__icon-3.png" alt="">
                    <p>第八章测验</p></a>
                </li>
                <li><a href="topicTest.html?topic=9"><img src="imgs/p__icon-4.png" alt="">
                    <p>第九章测验</p></a>
                </li>
                <li><a href="topicTest.html?topic=10"><img src="imgs/p__icon-5.png" alt="">
                    <p>第十章测验</p></a>
                </li>
            </ul>
        </div>
        <div>

            <ul id="typelist">
                <li><a href="codeTest.html?topic=1">
                    <img src="imgs/p__icon-1.png" alt="">
                    <p>第一章编程题</p>
                </a>
                </li>
                <li><a href="codeTest.html?topic=2"><img src="imgs/p__icon-2.png" alt="">
                    <p>第二章编程题</p></a>
                </li>
                <li><a href="codeTest.html?topic=3"><img src="imgs/p__icon-3.png" alt="">
                    <p>第三章编程题</p></a>
                </li>
                <li><a href="codeTest.html?topic=4"><img src="imgs/p__icon-4.png" alt="">
                    <p>第四章编程题</p></a>
                </li>
                <li><a href="codeTest.html?topic=5"><img src="imgs/p__icon-5.png" alt="">
                    <p>第五章编程题</p></a>
                </li>
            </ul>
        </div>
        <div>

            <ul id="typelist">
                <li><a href="codeTest.html?topic=6">
                    <img src="imgs/p__icon-1.png" alt="">
                    <p>第六章编程题</p>
                </a>
                </li>
                <li><a href="codeTest.html?topic=7"><img src="imgs/p__icon-2.png" alt="">
                    <p>第七章编程题</p></a>
                </li>
                <li><a href="codeTest.html?topic=8"><img src="imgs/p__icon-3.png" alt="">
                    <p>第八章编程题</p></a>
                </li>
                <li><a href="codeTest.html?topic=9"><img src="imgs/p__icon-4.png" alt="">
                    <p>第九章编程题</p></a>
                </li>
                <li><a href="codeTest.html?topic=10"><img src="imgs/p__icon-5.png" alt="">
                    <p>第十章编程题</p></a>
                </li>
            </ul>
        </div>

        <div>

            <ul id="typelist">
                <li style="margin: auto;"><a href="topicTest.html?topic=0">
                        <img src="imgs/p__icon-1.png" alt="">
                        <p>期末测验</p>
                    </a>
                </li>

            </ul>
        </div>
        </div>
        <div id="bg" style="padding-top: 0px;">
            <div class="title" style="margin-bottom: 70px;height: 70.6px;margin-top: 0px;padding-top: 55px;">
                <img src="imgs/dataAnalysis.png" alt="">
            </div>
            <ul>
                <li>
                    <p id="num">3道</p><span>练习题数</span>
                </li>
                <li>
                    <p id="days">天</p><span>学习天数</span>
                </li>
                <li>
                    <p id="newscore">分</p><span>最近考试</span>
                </li>
                <li>
                    <p id="avgscore">分</p><span>平均分数</span>
                </li>
            </ul>
        </div>


    </main>
    <footer>
        <p>Copyright © 2022 上海蜗牛JAVA培训中心</p>
    </footer>
    <input type="file" id="upload" class="upload">


</body>
<script src="js/jquery-1.8.3.min.js"></script>
<script src="js/axios.js"></script>
<script>
    window.onload = function () {
        function getQueryString(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
            var r = window.location.search.substr(1).match(reg);
            if (r != null) return decodeURI(r[2]);
            return null;
        }
        if (getQueryString('username')!=null){
            window.localStorage.setItem('username',getQueryString('username'));

        }
        var username = localStorage.getItem('username');
        axios({
            method: "post",
            url: "/demo/UserDetailServlet",
            params:{username:username},
        }).then(function (resp) {
            resp =resp.data;
            console.log(resp.testnum);

            $("#num").text(resp.testnum+"道");
            $("#days").text(resp.learnDays+"天");
            $("#newscore").text(resp.newscore+"分");
            $("#avgscore").text(resp.avgscore+"分");

        })



        if (username!=null){

            $("#right .login").text("欢迎您:"+username);
            $("#right .register #2").text("退出") ;
            $("#right .register #2").attr("href","/demo/ExitServlet");
        }else {
            $("#bg").attr("display")
        }
    }

</script>
</html>